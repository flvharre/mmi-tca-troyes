import{s,j as t}from"./supabaseClient.Dr4kaC94.js";import{r as e}from"./index.RH_Wq4ov.js";const g=`https://ryfsbluxhytxrtopxaqi.supabase.co\r
`;function x(){const[n,a]=e.useState(null),[r,i]=e.useState(!0);e.useEffect(()=>{(async()=>{const{data:{session:o}}=await s.auth.getSession();a(o?.user??null),i(!1)})();const{data:l}=s.auth.onAuthStateChange((o,p)=>{a(p?.user??null)});return()=>{l.subscription.unsubscribe()}},[]);async function u(){await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:g+"/mmi-tca-troyes/s5/thomas-ca/projets/svg-avatar-factory/"}})}async function c(){await s.auth.signOut()}return r?t.jsx("button",{className:"bg-green-900 px-4 py-2 rounded opacity-60",children:"Chargement..."}):n?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm",children:["Connecté : ",n.email]}),t.jsx("button",{onClick:c,className:"bg-green-900 px-3 py-2 rounded",children:"Se déconnecter"})]}):t.jsx("button",{onClick:u,className:"bg-green-900 px-4 py-2 rounded",children:"Login with Google"})}export{x as default};
