import{s as r,j as o}from"./supabaseClient.Dr4kaC94.js";import{r as e}from"./index.RH_Wq4ov.js";const x="https://langouste.github.io/mmi-tca-troyes/s5/thomas-ca/projets/svg-avatar-factory/";function b(){const[n,a]=e.useState(null),[u,i]=e.useState(!0);e.useEffect(()=>{(async()=>{const{data:{session:s}}=await r.auth.getSession();a(s?.user??null),i(!1)})();const{data:p}=r.auth.onAuthStateChange((s,d)=>{a(d?.user??null)});return()=>{p.subscription.unsubscribe()}},[]);async function l(){await r.auth.signInWithOAuth({provider:"google",options:{redirectTo:x}})}async function c(){await r.auth.signOut()}return u?o.jsx("button",{style:{backgroundColor:"#706fd3",color:"#ffda79",border:"2px solid #ffda79",padding:"8px 16px",fontFamily:"Courier New, monospace",fontSize:"12px",borderRadius:"4px",opacity:.6},children:"Chargement..."}):n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{style:{color:"#ffda79",fontSize:"12px"},children:["Connecté : ",n.email]}),o.jsx("button",{onClick:c,style:{backgroundColor:"#ff5252",color:"white",border:"none",padding:"8px 16px",fontFamily:"Courier New, monospace",fontSize:"12px",cursor:"pointer",borderRadius:"4px",transition:"all 0.3s",boxShadow:"0 2px 0 #b33939",textTransform:"uppercase"},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#ff3838",t.currentTarget.style.transform="translateY(1px)",t.currentTarget.style.boxShadow="0 1px 0 #b33939"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#ff5252",t.currentTarget.style.transform="translateY(0px)",t.currentTarget.style.boxShadow="0 2px 0 #b33939"},children:"Se déconnecter"})]}):o.jsx("button",{onClick:l,style:{backgroundColor:"#34ace0",color:"white",border:"none",padding:"10px 20px",fontFamily:"Courier New, monospace",fontSize:"14px",cursor:"pointer",borderRadius:"4px",transition:"all 0.3s",boxShadow:"0 4px 0 #227093",textTransform:"uppercase",fontWeight:"bold"},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#2980b9",t.currentTarget.style.transform="translateY(2px)",t.currentTarget.style.boxShadow="0 2px 0 #227093"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#34ace0",t.currentTarget.style.transform="translateY(0px)",t.currentTarget.style.boxShadow="0 4px 0 #227093"},children:"Login with Google"})}export{b as default};
