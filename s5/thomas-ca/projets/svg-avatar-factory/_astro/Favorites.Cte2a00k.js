import{s,j as t}from"./supabaseClient.Dr4kaC94.js";import{r as c}from"./index.RH_Wq4ov.js";function y(){const[u,i]=c.useState([]),[d,p]=c.useState(null);c.useEffect(()=>{(async()=>{const{data:{session:a}}=await s.auth.getSession(),n=a?.user?.id??null;p(n),n&&await l()})();const{data:r}=s.auth.onAuthStateChange((a,n)=>{const f=n?.user?.id??null;p(f),f?l():i([])}),o=()=>{d&&l()};return window.addEventListener("favoriteAdded",o),()=>{r.subscription.unsubscribe(),window.removeEventListener("favoriteAdded",o)}},[d]);async function l(){const{data:e,error:r}=await s.from("favorites").select("*").order("created_at",{ascending:!1});!r&&e&&i(e)}async function x(e){const{error:r}=await s.from("favorites").delete().eq("id",e);r||i(o=>o.filter(a=>a.id!==e))}function g(e){navigator.clipboard.writeText(e),alert("SVG copiÃ© !")}return d?u.length===0?t.jsx("p",{style:{color:"#ffda79",fontStyle:"italic"},children:"Aucun favori enregistrÃ©."}):t.jsx("div",{className:"grid gap-3",children:u.map(e=>t.jsxs("div",{style:{backgroundColor:"#40407a",border:"2px solid #ffda79",borderRadius:"8px",padding:"15px"},children:[t.jsx("div",{style:{marginBottom:"15px",maxHeight:"120px",overflow:"auto",backgroundColor:"#2c2c54",padding:"10px",borderRadius:"4px",border:"1px solid #706fd3",imageRendering:"pixelated"},dangerouslySetInnerHTML:{__html:e.svg}}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>g(e.svg),style:{backgroundColor:"#33d9b2",color:"white",border:"none",padding:"8px 16px",fontFamily:"Courier New, monospace",fontSize:"12px",cursor:"pointer",borderRadius:"4px",transition:"all 0.3s",boxShadow:"0 2px 0 #26a085",textTransform:"uppercase",fontWeight:"bold"},onMouseOver:r=>{r.currentTarget.style.backgroundColor="#2bcca7",r.currentTarget.style.transform="translateY(1px)",r.currentTarget.style.boxShadow="0 1px 0 #26a085"},onMouseOut:r=>{r.currentTarget.style.backgroundColor="#33d9b2",r.currentTarget.style.transform="translateY(0px)",r.currentTarget.style.boxShadow="0 2px 0 #26a085"},children:"Copier"}),t.jsx("button",{onClick:()=>x(e.id),style:{backgroundColor:"#ff5252",color:"white",border:"none",padding:"8px 16px",fontFamily:"Courier New, monospace",fontSize:"12px",cursor:"pointer",borderRadius:"4px",transition:"all 0.3s",boxShadow:"0 2px 0 #b33939",textTransform:"uppercase",fontWeight:"bold"},onMouseOver:r=>{r.currentTarget.style.backgroundColor="#ff3838",r.currentTarget.style.transform="translateY(1px)",r.currentTarget.style.boxShadow="0 1px 0 #b33939"},onMouseOut:r=>{r.currentTarget.style.backgroundColor="#ff5252",r.currentTarget.style.transform="translateY(0px)",r.currentTarget.style.boxShadow="0 2px 0 #b33939"},children:"ðŸ—‘ Supprimer"})]})]},e.id))}):t.jsx("p",{style:{color:"#ffda79",fontStyle:"italic"},children:"Connectez-vous pour voir vos favoris."})}export{y as default};
